<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Developer Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <style>
    /* Portfolio Styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #1e3c72, #2a5298);
      color: white;
      display: flex;
    }
    nav {
      background: rgba(0, 0, 0, 0.9);
      padding: 20px 10px;
      position: fixed;
      width: 100px;
      height: 100%;
      left: 0;
      top: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
    }
    nav ul {
      list-style: none;
      padding: 0;
      display: flex;
      flex-direction: column;
      width: 100%;
    }
    nav ul li {
      margin: 15px 0;
      text-align: center;
    }
    nav ul li a {
      color: white;
      text-decoration: none;
      font-size: 14px;
      display: block;
      padding: 15px;
      transition: transform 0.3s, background 0.3s, border-radius 0.3s;
    }
    nav ul li a:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: scale(1.1);
      border-radius: 10px;
    }
    main {
      margin-left: 120px;
      width: calc(100% - 120px);
      padding: 20px;
    }
    section {
      display: none;
      padding: 40px;
      text-align: center;
    }
    section.active {
      display: block;
    }
    .card {
      background: white;
      color: black;
      padding: 20px;
      margin: 20px auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      max-width: 300px;
      text-align: center;
    }
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    /* Integrated Floating Chat Widget Styles */
    .chat-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .chat-container {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 320px;
      max-height: 500px;
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: none;
      flex-direction: column;
      overflow: hidden;
      font-family: Arial, sans-serif;
      z-index: 1000;
    }
    .chat-header {
      background-color: #007BFF;
      color: white;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 18px;
    }
    .header-buttons {
      display: flex;
      gap: 5px;
    }
    .chat-header button {
      background: none;
      border: none;
      color: white;
      font-size: 16px;
      cursor: pointer;
    }
    .chat-messages {
      padding: 10px;
      flex: 1;
      overflow-y: auto;
      font-size: 14px;
      color: #333;
    }
    .message {
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 5px;
      word-wrap: break-word;
      width: auto;
    }
    .message.user {
      background-color: #DCF8C6;
      text-align: right;
    }
    .message.bot {
      background-color: #F1F0F0;
      text-align: left;
    }
    .chat-input {
      display: flex;
      border-top: 1px solid #ddd;
    }
    .chat-input input {
      flex: 1;
      padding: 10px;
      border: none;
      font-size: 14px;
      outline: none;
      border-radius: 0 0 0 10px;
    }
    .chat-input button {
      padding: 10px 15px;
      border: none;
      background-color: #007BFF;
      color: white;
      cursor: pointer;
      font-size: 14px;
      border-radius: 0 0 10px 0;
      transition: background-color 0.3s;
    }
    .chat-input button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <nav>
    <ul>
      <li><a href="#home" onclick="showSection('home')">Home</a></li>
      <li><a href="#about" onclick="showSection('about')">About</a></li>
      <li><a href="#skills" onclick="showSection('skills')">Skills</a></li>
      <li><a href="#projects" onclick="showSection('projects')">Projects</a></li>
    </ul>
  </nav>
  
  <main>
    <section id="home" class="active">
      <h1>Welcome to My Portfolio</h1>
      <p>I am a Data Scientist passionate about machine learning, data analytics, and AI-driven solutions.</p>
    </section>
    
    <section id="about">
      <h2>About Me</h2>
      <p>Detail about experience, projects, and technical skills.</p>
    </section>
    
    <section id="skills">
      <h2>Skills</h2>
      <div class="card-container">
        <div class="card">Python</div>
        <div class="card">Machine Learning</div>
      </div>
    </section>
    
    <section id="projects">
      <h2>Projects</h2>
      <div class="card-container">
        <div class="card">Project 1: AI Chatbot</div>
      </div>
    </section>
  </main>

  <!-- Integrated Chat Widget -->
  <button class="chat-toggle" title="Chat">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
      <path d="M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"/>
    </svg>
  </button>
  
  <div class="chat-container">
    <div class="chat-header">
      <span>Chat with John's AI</span>
      <div class="header-buttons">
        <button class="clear-chat">Clear</button>
        <button class="close-chat">&times;</button>
      </div>
    </div>
    <div class="chat-messages"></div>
    <div class="chat-input">
      <input type="text" placeholder="Type your message..." />
      <button>Send</button>
    </div>
  </div>

  <script>
    // Portfolio Section Toggle
    function showSection(sectionId) {
      document.querySelectorAll('section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
    }
    
    // Chat Widget Functionality
    const API_KEY = "AIzaSyA-0zY45npWMggwFlOLStUMzQZfq-etIzU"; // Replace with your Gemini API key
    const GEMINI_URL = "https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=" + API_KEY;

    const chatToggle = document.querySelector('.chat-toggle');
    const chatContainer = document.querySelector('.chat-container');
    const closeChat = document.querySelector('.close-chat');
    const clearChat = document.querySelector('.clear-chat');
    const chatInput = document.querySelector('.chat-input input');
    const chatSend = document.querySelector('.chat-input button');
    const chatMessages = document.querySelector('.chat-messages');

    // Show chat container when toggle is clicked
    chatToggle.addEventListener('click', () => {
        chatContainer.style.display = 'flex';
        chatToggle.style.display = 'none';
    });

    // Close chat container when close button is clicked
    closeChat.addEventListener('click', () => {
        chatContainer.style.display = 'none';
        chatToggle.style.display = 'flex';
    });

    // Clear chat messages when clear button is clicked
    clearChat.addEventListener('click', () => {
        chatMessages.innerHTML = '';
    });

    // Send message on button click or Enter key press
    chatSend.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
    });

    async function sendMessage() {
        const message = chatInput.value.trim();
        if (!message) return;

        addMessage('user', message);
        chatInput.value = '';
        
        const SYSTEM_PROMPT = `<system_prompt>
YOU ARE A PERSONAL AI REPRESENTATIVE FOR **John Doe**, AN ASSOCIATE DATA SCIENTIST CURRENTLY WORKING AT Kio LTD. YOUR PURPOSE IS TO PROVIDE INFORMATION STRICTLY RELATED TO John Doe'S PROFESSIONAL BACKGROUND, SKILLS, EDUCATION, AND PROJECTS. ANY UNRELATED QUESTION MUST BE DENIED SARCASTICALLY, BUT NOT WITH FIXED RESPONSESâ€”INSTEAD, VARY YOUR REPLIES BASED ON CONTEXT.
DO NOT LIE OR MENTION ANY OTHER ACHIVEMNETS THAN THE ONE GIVEN BELOW.
### GREETINGS PROTOCOL
- ALWAYS respond to greetings in a friendly and engaging manner.

### John Doe - PROFESSIONAL SUMMARY
John Doe is an **Associate Data Scientist at Kio Ltd.**, specializing in AI security, data science, and automation. He has successfully led multiple projects improving AI safety, efficiency, and reliability.

### CONTACT INFORMATION
- **Phone:** +91 8879099411
- **Email:** johndoe4@gmail.com
- **LinkedIn:** [John Doe](https://www.linkedin.com/in/john-doe-28152920b/)

### EXPERIENCE & PROJECTS


### EDUCATION


### TECHNICAL SKILLS
- **Programming:** Python  
- **Databases:** SQL, Milvus, MongoDB  
- **Data Science:** TensorFlow, RAGs, LangChain, Scikit Learn, PySpark  
- **Big Data & Cloud:** Hive, Kafka, Airflow  
- **Web Frameworks:** FastAPI, Flask, Django  

### STRICT RULES FOR RESPONDING:
1. **Always respond to greetings naturally and appropriately.**
2. **ONLY** answer questions related to John Doeâ€™s professional details, projects, skills, or education.
3. **If asked an unrelated question, craft a unique sarcastic denial based on context, rather than repeating fixed phrases.** Examples:
   - If someone asks about politics: _"johnâ€™s too busy training models to train politicians."_
   - If asked about cooking: _"john can whip up a neural network, but a good curry? Thatâ€™s another story."_
4. **KEEP RESPONSES MINIMAL**â€”no unnecessary elaboration.
</system_prompt>
`;
        
      const requestBody = {
        contents: [{ parts: [{ text: `${SYSTEM_PROMPT}\n\nUser Query: ${message}` }] }]
      };
      
      try {
          const response = await fetch(GEMINI_URL, {
              method: "POST",
              headers: {
                  "Content-Type": "application/json",
                  "Referer": "https://johndoe.github.io/portfolio/"
              },
              body: JSON.stringify(requestBody)
          });
          
          const data = await response.json();
          console.log("Gemini Response:", data);
          
          if (data && data.candidates && data.candidates.length > 0) {
              addMessage('bot', data.candidates[0].content.parts[0].text);
          } else {
              addMessage('bot', "No valid response received.");
          }
      } catch (error) {
          console.error("Error fetching response:", error);
          addMessage('bot', "Error fetching response. Please try again.");
      }
    }

    function addMessage(type, content) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', type);
        messageDiv.textContent = content;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }
  </script>
</body>
</html>
